<p class="a circle-button" (click)="show = !show">{{ 'music.buttonWord' | translate }}</p>

<div class="music-player" [class.show]="show">
  <div class="content">
    <input class="form-control item" type="text" [(ngModel)]="key" [placeholder]="'search' | translate" (ngModelChange)="search(key)">
    <ul class="search-result list">
      <li *ngFor="let song of searchSongs">
        <a class="info">{{ song.name }}--{{ song.singer }}</a>
        <div class="action">
          <a (click)="addToSongs(song)">
            <icon class="a" width="24" height="24" [glyph]="icon.add"></icon>
          </a>
          <a (click)="playInsearch(song)">
            <icon class="a" width="24" height="24" [glyph]="icon.play"></icon>
          </a>
        </div>
      </li>
    </ul>
    <div class="item list-container list">
      <p *ngIf="songs.length > 0">{{ 'music.playList' | translate }}:</p>
      <ul class="songs">
        <li *ngFor="let song of songs; let i = index; trackBy: trackByFn" (click)="select(song)" [class.playing]="song.id === selectedSong.id">
          <a class="info">{{ i + 1 }}. {{ song.name }}--{{ song.singer }}</a>
          <div class="action">
            <a (click)="removeSong(song, $event)" *ngIf="selectedSong.id !== song.id">
              <icon class="a" width="24" height="24" [glyph]="icon.delete"></icon>
            </a>
          </div>
        </li>
      </ul>
    </div>
    <div class="audio" [class.show]="selectedSong.id">
      <p>{{ selectedSong.name }}--{{ selectedSong.singer }}</p>
      <audio #audio [src]="songURL" controls="controls" autoplay></audio>
    </div>
  </div>

</div>

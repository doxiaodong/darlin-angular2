<div class="xd-modal" [class.shown]="showModal">
  <div class="xd-container">
    <form id="SIGNIN" [ngFormModel]="signinForm" class="form" [class.active]="signinModel" (ngSubmit)="doSignin(signin)">

      <header class="xd-header">{{ 'signModal.signin' | translate }}</header>
      <article class="xd-article">
        <div class="form-group">
          <label for="username"></label>
          <input [(ngModel)]="signin.username" #username="ngForm" ngControl="username" class="form-control" id="username"  type="text" [attr.placeholder]="'signModal.username' | translate">
          <span [hidden]="!username.valid" class="xd xd-checkmark active"></span>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': !password.pristine && !password.valid }">
          <label for="password"></label>
          <input [(ngModel)]="signin.password" #password="ngForm" ngControl="password" class="form-control" id="password" type="password" [attr.placeholder]="'signModal.password' | translate">
          <span [hidden]="!password.valid" class="xd xd-checkmark active"></span>
        </div>
      </article>
      <footer class="xd-footer">
        <button [disabled]="!signinForm.valid || requesting" class="signin-button main btn" type="submit">{{ 'signModal.signin' | translate }}</button>
        <span class="a aside other-side" (click)="signinModel = false">{{ 'signModal.register' | translate }}</span>
        <span onclick="alert('联系站猪!')" class="a aside">{{ 'signModal.forget' | translate }}</span>
      </footer>
      <i class="xd-modal-close xd xd-ios-close-empty" (click)="closeShowModal()"></i>
    </form>


    <form id="REGISTER" [ngFormModel]="registerForm" #_registerForm="ngForm" class="form" [class.active]="!signinModel" (ngSubmit)="doRegister(register)">

      <header class="xd-header">{{ 'signModal.register' | translate }}</header>
      <article class="xd-article">
        <div class="form-group" [ngClass]="{ 'has-error': !r_username.pristine && !r_username.valid }">
          <label for="register_username" class="form-label">{{ 'signModal.username' | translate }}<span class="tomato">*</span>：<span class="tomato" [hidden]="r_username.pristine || r_username.valid">&nbsp;{{ 'signModal.usernameFlag' | translate }}</span></label>
          <input #r_username="ngForm" [(ngModel)]="register.username" ngControl="r_username" class="form-control" id="register_username" type="text" [attr.placeholder]="'signModal.usernameFlag' | translate">
          <span [hidden]="r_username.pristine || !r_username.valid" class="xd xd-checkmark active"></span>
        </div>
        <div class="form-group">
          <label for="register_email" class="form-label">{{ 'signModal.email' | translate }}<span class="tomato">*</span>：<span class="tomato" [hidden]="email.pristine || email.valid">&nbsp;{{ 'signModal.emailFlag' | translate }}</span></label>
          <input #email="ngForm" [(ngModel)]="register.email" ngControl="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" class="form-control" id="register_email" type="email" [attr.placeholder]="'signModal.emailFlag' | translate" required>
          <span [hidden]="email.pristine || !email.valid" class="xd xd-checkmark active"></span>
        </div>
        <div ngControlGroup="passwordRetry">
          <div class="form-group" [ngClass]="{ 'has-error': !r_password.pristine && !r_password.valid }">
            <label for="register_pwd" class="form-label">{{ 'signModal.password' | translate }}<span class="tomato">*</span>：<span class="tomato" [hidden]="r_password.pristine || r_password.valid">&nbsp;{{ 'signModal.passwordFlag' | translate }}</span></label>
            <input #r_password="ngForm" [(ngModel)]="register.password" ngControl="r_password" class="form-control" id="register_pwd" type="password" [attr.placeholder]="'signModal.passwordFlag' | translate">
            <span [hidden]="r_password.pristine || !r_password.valid" class="xd xd-checkmark active"></span>
          </div>
          <div class="form-group" [ngClass]="{ 'has-error': !r_rePassword.pristine && !r_rePassword.valid }">
            <label for="register_pwd" class="form-label">{{ 'signModal.rePassword' | translate }}<span class="tomato">*</span>：<span class="tomato" [hidden]="r_rePassword.pristine || r_rePassword.valid">&nbsp;{{ 'signModal.rePasswordFlag' | translate }}</span></label>
            <input #r_rePassword="ngForm" ngControl="r_rePassword" class="form-control" id="register_pwd" type="password" [attr.placeholder]="'signModal.rePasswordFlag' | translate">
            <span [hidden]="r_rePassword.pristine || !r_rePassword.valid" class="xd xd-checkmark active"></span>
          </div>
        </div>
        <div class="form-group" [ngClass]="{ 'has-error': !nickname.pristine && !nickname.valid }">
          <label for="register_nickname" class="form-label">{{ 'signModal.nickName' | translate }}：<span class="tomato" [hidden]="nickname.pristine || nickname.valid">&nbsp;{{ 'signModal.nickNameFlag' | translate }}</span></label>
          <input #nickname="ngForm" [(ngModel)]="register.nickname" ngControl="nickname" maxlength="10" class="form-control" id="register_nickname" type="text" [attr.placeholder]="'signModal.nickNameFlag' | translate">
          <span [hidden]="!nickname.valid" class="xd xd-checkmark active"></span>
        </div>
      </article>
      <footer class="xd-footer">
        <button [disabled]="!registerForm.valid || requesting" class="register-button main btn" type="submit">{{ 'signModal.register' | translate }}</button>
        <span class="a aside other-side" (click)="signinModel = true">{{ 'signModal.signin' | translate }}</span>
      </footer>
      <i class="xd-modal-close xd-close xd xd-ios-close-empty" (click)="closeShowModal()"></i>
    </form>

  </div>
</div>
